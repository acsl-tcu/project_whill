<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheelchair Navigation System - Simple Explanation</title>

    <!-- Mermaid.js from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        // Initialize Mermaid when page loads
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default',
                flowchart: {
                    useMaxWidth: true,
                    htmlLabels: true,
                    curve: 'basis',
                    padding: 20
                },
                themeVariables: {
                    fontSize: '16px'
                }
            });
        });
    </script>

    <style>
        @media print {
            @page {
                size: A4;
                margin: 1.5cm;
            }
            body {
                margin: 0;
            }
            .mermaid {
                page-break-inside: avoid;
            }
            h1, h2, h3 {
                page-break-after: avoid;
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
            font-size: 14px;
        }

        h1 {
            border-bottom: 3px solid #0366d6;
            padding-bottom: 12px;
            color: #24292e;
            font-size: 32px;
            margin-top: 24px;
            margin-bottom: 16px;
        }

        h2 {
            color: #24292e;
            margin-top: 32px;
            margin-bottom: 16px;
            border-bottom: 2px solid #eaecef;
            padding-bottom: 8px;
            font-size: 24px;
        }

        h3 {
            color: #24292e;
            margin-top: 24px;
            margin-bottom: 16px;
            font-size: 20px;
        }

        h4 {
            color: #24292e;
            margin-top: 20px;
            margin-bottom: 12px;
            font-size: 16px;
        }

        p {
            margin: 12px 0;
        }

        code {
            background: #f6f8fa;
            padding: 3px 6px;
            border-radius: 3px;
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
            font-size: 85%;
        }

        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
            border: 1px solid #e1e4e8;
            line-height: 1.45;
            margin: 16px 0;
        }

        pre code {
            background: transparent;
            padding: 0;
            border-radius: 0;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            display: table;
        }

        th, td {
            border: 1px solid #d0d7de;
            padding: 8px 13px;
            text-align: left;
        }

        th {
            background-color: #f6f8fa;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f6f8fa;
        }

        .mermaid {
            background: white;
            padding: 20px;
            margin: 30px 0;
            border: 2px solid #e1e4e8;
            border-radius: 8px;
            text-align: center;
        }

        hr {
            border: none;
            border-top: 2px solid #e1e4e8;
            margin: 40px 0;
        }

        ul, ol {
            margin: 12px 0;
            padding-left: 32px;
        }

        li {
            margin: 6px 0;
        }

        strong {
            font-weight: 600;
            color: #24292e;
        }

        blockquote {
            border-left: 4px solid #dfe2e5;
            padding-left: 16px;
            color: #6a737d;
            margin: 16px 0;
        }

        a {
            color: #0366d6;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Print button */
        .print-button {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 24px;
            background: #0366d6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 1000;
        }

        .print-button:hover {
            background: #0256c7;
        }

        @media print {
            .print-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <button class="print-button" onclick="window.print()">üñ®Ô∏è Print to PDF</button>

<h1>Wheelchair Navigation System - Simple Explanation</h1>
<p></p>
<h2>Overview</h2>
<p></p>
<p>The autonomous wheelchair navigates from its starting position to an elevator, travels between floors, and exits. The system guides the wheelchair through rooms, doorways, and the elevator automatically.</p>
<p></p>
<h2>Quick Navigation</h2>
<p></p>
<p>This document includes detailed flowcharts for:</p>
<ul>
<li><strong><a href="#door-crossing-flowchart">Door Crossing Phases</a></strong> - 4 phases with visual diagram</li>
<li><strong><a href="#elevator-entry-flowchart">Elevator Entry Phases</a></strong> - 6 phases with visual diagram</li>
<li><strong><a href="#flowchart">Complete System Flowchart</a></strong> - Overall navigation process</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>Navigation Process</h2>
<p></p>
<h3>1. System Startup</h3>
<p></p>
<p><strong>Map Loading</strong></p>
<ul>
<li>Wheelchair reads a pre-made map of the building</li>
<li>Map shows walls, rooms, doors, and elevator location</li>
<li>Building layout includes multiple rooms connected by doorways</li>
</ul>
<p></p>
<p><strong>Route Planning</strong></p>
<ul>
<li>System calculates best path from current location to elevator</li>
<li>Breaks journey into segments: Room A ‚Üí Door ‚Üí Room B ‚Üí Door ‚Üí Room C ‚Üí Elevator</li>
<li>Plans specific points (waypoints) to follow in each room</li>
</ul>
<p></p>
<hr>
<p></p>
<h3>2. Main Navigation Cycle</h3>
<p></p>
<p>The wheelchair repeats this cycle continuously until reaching the destination:</p>
<p></p>
<h4>Step 1: Read Sensors</h4>
<ul>
<li>Laser scanner detects surrounding obstacles and walls</li>
<li>Position tracker determines current location on map</li>
<li>Camera identifies nearby objects</li>
</ul>
<p></p>
<h4>Step 2: Understand Environment</h4>
<ul>
<li>Identifies objects (people, furniture, walls)</li>
<li>Measures distance to obstacles</li>
<li>Confirms current position on map</li>
</ul>
<p></p>
<h4>Step 3: Decide Action</h4>
<p>System determines what to do based on current situation:</p>
<ul>
<li><strong>Following Path:</strong> Continue moving along planned route</li>
<li><strong>Entering Door:</strong> Navigate through doorway to next room</li>
<li><strong>Entering Elevator:</strong> Special sequence to enter and exit elevator</li>
</ul>
<p></p>
<h4>Step 4: Calculate Movement</h4>
<ul>
<li>Determines safe direction to move</li>
<li>Avoids obstacles detected by sensors</li>
<li>Adjusts speed based on proximity to objects</li>
<li>Maintains alignment with planned path</li>
</ul>
<p></p>
<h4>Step 5: Execute Movement</h4>
<ul>
<li>Sends movement commands to wheelchair motors</li>
<li>Moves forward at calculated speed</li>
<li>Turns to follow path or avoid obstacles</li>
</ul>
<p></p>
<h4>Step 6: Check Progress</h4>
<ul>
<li>Verifies if current segment completed</li>
<li>Advances to next navigation segment when ready</li>
<li>Updates display showing current status</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>Navigation Segments</h2>
<p></p>
<h3>Segment Type 1: Following Path in a Room</h3>
<p></p>
<p><strong>What happens:</strong></p>
<ul>
<li>Wheelchair follows a series of guide points through the room</li>
<li>Continuously checks sensors to avoid obstacles</li>
<li>Adjusts path if objects block the way</li>
<li>Moves toward the room exit (doorway)</li>
</ul>
<p></p>
<p><strong>Progress tracking:</strong></p>
<ul>
<li>Marks each guide point as "reached" when wheelchair passes it</li>
<li>Moves to next guide point automatically</li>
<li>Completes when all guide points in room are reached</li>
</ul>
<p></p>
<p><strong>Duration:</strong> 10-60 seconds per room</p>
<p></p>
<hr>
<p></p>
<h3>Segment Type 2: Passing Through a Doorway</h3>
<p></p>
<p><strong>Phase 1: Approach Door</strong></p>
<ul>
<li>Wheelchair positions itself 1 meter in front of doorway</li>
<li>Aligns to face the door straight-on</li>
<li>Stops to prepare for door crossing</li>
</ul>
<p></p>
<p><strong>Phase 2: Face Exit Direction</strong></p>
<ul>
<li>Rotates to point toward the next room's path</li>
<li>Ensures proper orientation before crossing</li>
<li>Aligns with where it needs to go after passing through</li>
</ul>
<p></p>
<p><strong>Phase 3: Check Door is Open</strong></p>
<ul>
<li>Laser scanner looks for obstacles in doorway</li>
<li><strong>Door Open:</strong> Few or no obstacles detected ‚Üí proceed</li>
<li><strong>Door Closed:</strong> Solid surface detected ‚Üí trigger automatic door</li>
<li>Performs small back-and-forth movements</li>
<li>Activates motion sensor on automatic door</li>
<li>Waits for door to open</li>
<li>Confirms door is passable before moving</li>
</ul>
<p></p>
<p><strong>Phase 4: Cross Threshold</strong></p>
<ul>
<li>Moves straight through doorway at steady speed</li>
<li>Travels 2 meters forward to clear the door completely</li>
<li>Uses distance measurement, not position (more reliable during crossing)</li>
</ul>
<p></p>
<p><strong>Phase 5: Continue in Next Room</strong></p>
<ul>
<li>Loads guide points for the new room</li>
<li>Begins following path through next room</li>
</ul>
<p></p>
<p><strong>Duration:</strong> 5-15 seconds per door</p>
<p></p>
<h4>Door Crossing Flowchart</h4>
<p></p>
<div class="mermaid">
flowchart TB
    StartDoor([Wheelchair Arrives at Door]) --> Phase1[Phase 1: Approach Door<br/>Stop 1 meter in front<br/>Face door straight]

    Phase1 --> Phase2[Phase 2: Turn to Face Exit<br/>Rotate toward next room<br/>Align with destination]

    Phase2 --> Phase3{Phase 3: Check Door}

    Phase3 -->|Door Open| Wait[Wait 2 Seconds<br/>for Door to Fully Open]
    Phase3 -->|Door Closed| Trigger[Trigger Automatic Door<br/>Move back and forth<br/>Activate motion sensor]

    Trigger --> CheckAgain{Is Door<br/>Open Now?}
    CheckAgain -->|No| Trigger
    CheckAgain -->|Yes| Wait

    Wait --> Phase4[Phase 4: Cross Doorway<br/>Move forward 2 meters<br/>at steady speed]

    Phase4 --> Monitor{Traveled<br/>2 meters?}
    Monitor -->|No| Phase4
    Monitor -->|Yes| Complete([Door Crossing Complete<br/>Load Next Room Path])

    style StartDoor fill:#90EE90
    style Complete fill:#90EE90
    style Phase1 fill:#87CEEB
    style Phase2 fill:#87CEEB
    style Phase3 fill:#DDA0DD
    style Phase4 fill:#87CEEB
    style Trigger fill:#FFE4B5
    style Wait fill:#FFE4B5
</div>
<p></p>
<p></p>
<h3>Segment Type 3: Entering Elevator</h3>
<p></p>
<p>This is the most complex segment with multiple sub-stages:</p>
<p></p>
<h4>Stage 1: Approach and Align (Phases 1-2)</h4>
<ul>
<li>Positions 1 meter in front of elevator door</li>
<li>Rotates to face elevator entrance straight-on</li>
<li>Aligns perfectly for smooth entry</li>
</ul>
<p></p>
<h4>Stage 2: Door Opening (Phase 3)</h4>
<ul>
<li>Laser scanner checks if elevator door is open</li>
<li><strong>Door Closed:</strong> Detects solid surface</li>
<li>Performs small movements to trigger motion sensor</li>
<li>Waits for automatic door to open</li>
<li><strong>Door Open:</strong> Detects clear path inside</li>
<li>Waits 2 seconds for door to fully open</li>
<li>Proceeds to entry</li>
</ul>
<p></p>
<h4>Stage 3: Enter Elevator (Phase 3)</h4>
<ul>
<li>Moves straight into elevator cabin</li>
<li>Travels 2 meters to reach center of elevator</li>
<li>Stops inside elevator</li>
</ul>
<p></p>
<h4>Stage 4: Wait Inside (Phase 4)</h4>
<p><strong>Sub-stage A: Door Closes</strong></p>
<ul>
<li>Elevator door closes automatically</li>
<li>Wheelchair remains stationary inside</li>
</ul>
<p></p>
<p><strong>Sub-stage B: Floor Selection</strong></p>
<ul>
<li>System registers desired floor number</li>
<li>(In real system: interfaces with elevator panel)</li>
</ul>
<p></p>
<p><strong>Sub-stage C: Travel to Floor</strong></p>
<ul>
<li>Elevator travels up or down to destination floor</li>
<li>Wheelchair waits motionless during travel</li>
</ul>
<p></p>
<p><strong>Sub-stage D: Door Opens</strong></p>
<ul>
<li>Elevator arrives at destination floor</li>
<li>Door opens automatically</li>
<li>Laser scanner detects when door is fully open</li>
</ul>
<p></p>
<h4>Stage 5: Exit Elevator (Phase 5)</h4>
<ul>
<li>Wheelchair reverses backward out of elevator</li>
<li>Travels same distance as entry (2 meters)</li>
<li>Uses distance measurement to track progress</li>
<li>Exits smoothly without turning around</li>
</ul>
<p></p>
<p><strong>Why reverse?</strong></p>
<ul>
<li>Elevator cabin too small to turn around</li>
<li>Reversing maintains stability</li>
<li>Simpler than complex turning maneuvers</li>
</ul>
<p></p>
<h4>Stage 6: Complete (Phase 6)</h4>
<ul>
<li>Wheelchair fully outside elevator on new floor</li>
<li>Ready to continue navigation on new floor</li>
</ul>
<p></p>
<p><strong>Duration:</strong> 20-60 seconds total</p>
<p></p>
<h4>Elevator Entry Flowchart</h4>
<p></p>
<div class="mermaid">
flowchart TB
    StartElev([Wheelchair Arrives at Elevator]) --> Phase1[Phase 1-2: Approach and Align<br/>Stop 1 meter in front<br/>Face elevator straight]

    Phase1 --> CheckDoor{Phase 3: Is Elevator<br/>Door Open?}

    CheckDoor -->|Door Closed| TriggerElev[Trigger Elevator Door<br/>Move back and forth<br/>Activate motion sensor]
    TriggerElev --> CheckDoor

    CheckDoor -->|Door Open| WaitOpen[Wait 2 Seconds<br/>Ensure Door Fully Open]

    WaitOpen --> Enter[Phase 3: Enter Elevator<br/>Move forward 2 meters<br/>Stop inside cabin]

    Enter --> InsideCheck{Inside<br/>Elevator?}
    InsideCheck -->|No| Enter
    InsideCheck -->|Yes| DoorClose[Phase 4A: Door Closes<br/>Wheelchair stays still]

    DoorClose --> SelectFloor[Phase 4B: Floor Selection<br/>System registers target floor]

    SelectFloor --> Travel[Phase 4C: Travel to Floor<br/>Elevator moves up/down<br/>Wheelchair remains motionless]

    Travel --> ArriveFloor[Phase 4D: Arrive at Floor<br/>Elevator stops<br/>Door opens automatically]

    ArriveFloor --> DetectOpen{Detect Door<br/>Fully Open?}
    DetectOpen -->|No| ArriveFloor
    DetectOpen -->|Yes| Reverse[Phase 5: Reverse Out<br/>Move backward 2 meters<br/>Exit elevator]

    Reverse --> ExitCheck{Exited<br/>Elevator?}
    ExitCheck -->|No| Reverse
    ExitCheck -->|Yes| Complete([Elevator Exit Complete<br/>Now on New Floor])

    style StartElev fill:#90EE90
    style Complete fill:#90EE90
    style Phase1 fill:#FFB6B6
    style CheckDoor fill:#DDA0DD
    style Enter fill:#FFB6B6
    style DoorClose fill:#FFE4B5
    style SelectFloor fill:#FFE4B5
    style Travel fill:#FFE4B5
    style ArriveFloor fill:#FFE4B5
    style Reverse fill:#FFB6B6
    style TriggerElev fill:#FFE4B5
</div>
<p></p>
<p><strong>Elevator Phases Summary:</strong></p>
<p></p>
<table>
<thead><tr>
<th>Phase</th>
<th>What Happens</th>
<th>Wheelchair Movement</th>
<th>Duration</th>
</tr></thead>
<tbody>
<tr>
<td><strong>1-2</strong></td>
<td>Approach and align</td>
<td>Stop in front</td>
<td>5 sec</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>Check door, trigger if closed, enter</td>
<td>Forward 2 meters</td>
<td>5-10 sec</td>
</tr>
<tr>
<td><strong>4A</strong></td>
<td>Door closes</td>
<td>Stay still</td>
<td>5 sec</td>
</tr>
<tr>
<td><strong>4B</strong></td>
<td>Floor selection</td>
<td>Stay still</td>
<td>2 sec</td>
</tr>
<tr>
<td><strong>4C</strong></td>
<td>Travel between floors</td>
<td>Stay still</td>
<td>15-20 sec</td>
</tr>
<tr>
<td><strong>4D</strong></td>
<td>Arrive, door opens</td>
<td>Stay still</td>
<td>3 sec</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>Reverse out of elevator</td>
<td>Backward 2 meters</td>
<td>7 sec</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>Complete</td>
<td>Stop</td>
<td>-</td>
</tr>
</tbody></table>
<p></p>
<hr>
<p></p>
<h2>Complete Journey Example</h2>
<p></p>
<p><strong>Starting Location:</strong> Room A (Floor 4)</p>
<p><strong>Destination:</strong> Elevator ‚Üí Floor 1</p>
<p></p>
<h3>Journey Breakdown:</h3>
<p></p>
<ol>
<li><strong>Room A Navigation</strong> (30 sec)</li>
</ol>
<ul>
<li>Follow 15 guide points through Room A</li>
<li>Avoid furniture and walls</li>
<li>Reach door to Room B</li>
</ul>
<p></p>
<ol>
<li><strong>Door A‚ÜíB Crossing</strong> (8 sec)</li>
</ol>
<ul>
<li>Approach door</li>
<li>Align to face Room B</li>
<li>Check door open</li>
<li>Cross into Room B</li>
</ul>
<p></p>
<ol>
<li><strong>Room B Navigation</strong> (25 sec)</li>
</ol>
<ul>
<li>Follow 12 guide points through Room B</li>
<li>Navigate around obstacles</li>
<li>Reach door to Room C</li>
</ul>
<p></p>
<ol>
<li><strong>Door B‚ÜíC Crossing</strong> (10 sec)</li>
</ol>
<ul>
<li>Approach door</li>
<li>Wait for automatic door to open</li>
<li>Cross into Room C</li>
</ul>
<p></p>
<ol>
<li><strong>Room C Navigation</strong> (20 sec)</li>
</ol>
<ul>
<li>Follow 8 guide points through Room C</li>
<li>Approach elevator entrance</li>
</ul>
<p></p>
<ol>
<li><strong>Elevator Entry</strong> (45 sec)</li>
</ol>
<ul>
<li>Align in front of elevator (5 sec)</li>
<li>Wait for elevator door to open (5 sec)</li>
<li>Enter elevator cabin (5 sec)</li>
<li>Door closes (5 sec)</li>
<li>Travel from Floor 4 to Floor 1 (20 sec)</li>
<li>Door opens (3 sec)</li>
<li>Reverse out of elevator (7 sec)</li>
</ul>
<p></p>
<p><strong>Total Time:</strong> ~2 minutes 18 seconds</p>
<p></p>
<hr>
<p></p>
<h2>Safety Features</h2>
<p></p>
<h3>Obstacle Avoidance</h3>
<ul>
<li>Continuously scans 360¬∞ around wheelchair</li>
<li>Calculates safe paths around detected objects</li>
<li>Slows down or stops if obstacles too close</li>
<li>Replans route if original path blocked</li>
</ul>
<p></p>
<h3>Door Safety</h3>
<ul>
<li>Never attempts to cross closed door</li>
<li>Actively opens automatic doors using motion trigger</li>
<li>Waits for confirmation door is passable</li>
<li>Stops immediately if door closes unexpectedly</li>
</ul>
<p></p>
<h3>Elevator Safety</h3>
<ul>
<li>Confirms door fully open before entering</li>
<li>Remains stationary during floor travel</li>
<li>Detects door opening before exiting</li>
<li>Uses slow, controlled movements inside cabin</li>
</ul>
<p></p>
<h3>Position Tracking</h3>
<ul>
<li>Constantly monitors current location</li>
<li>Verifies progress along planned path</li>
<li>Uses multiple methods to confirm position</li>
<li>Falls back to distance measurement if position uncertain</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>User Interaction</h2>
<p></p>
<p><strong>During Normal Operation:</strong></p>
<ul>
<li>System runs completely autonomously</li>
<li>User can monitor progress on display</li>
<li>Shows current room, action, and progress percentage</li>
</ul>
<p></p>
<p><strong>Optional User Commands:</strong></p>
<ul>
<li>Can request wheelchair to replan route from current position</li>
<li>Can activate special testing modes</li>
<li>Can stop navigation at any time</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>System Display</h2>
<p></p>
<p><strong>Real-time Status Information:</strong></p>
<p></p>
<p><strong>Section 1: Position</strong></p>
<ul>
<li>Current X, Y coordinates on map</li>
<li>Current facing direction</li>
<li>Time elapsed</li>
</ul>
<p></p>
<p><strong>Section 2: Navigation Progress</strong></p>
<ul>
<li>Current guide point: 8/15</li>
<li>Distance to final destination</li>
<li>Detected obstacles nearby</li>
</ul>
<p></p>
<p><strong>Section 3: Current Action</strong></p>
<ul>
<li>"Following path in Room B"</li>
<li>"Entering doorway to Room C"</li>
<li>"Entering elevator - waiting for door"</li>
</ul>
<p></p>
<p><strong>Section 4: Overall Progress</strong></p>
<ul>
<li>Action 3 of 6 (50% complete)</li>
<li>Current segment: "Path following in Room B"</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>Flowchart</h2>
<p></p>
<div class="mermaid">
flowchart TB
    Start([Wheelchair Turned On]) --> LoadMap[Load Building Map<br/>and Plan Route]

    LoadMap --> StartNav[Begin Navigation<br/>from Starting Position]

    StartNav --> MainLoop[Main Cycle Starts]

    MainLoop --> ReadSensors[Read Sensors<br/>- Laser scanner<br/>- Position tracker<br/>- Camera]

    ReadSensors --> Understand[Understand Environment<br/>- Detect obstacles<br/>- Confirm location]

    Understand --> DecideAction{What Action<br/>is Needed?}

    DecideAction -->|Following Path| PathAction[Following Path Through Room]
    DecideAction -->|At Door| DoorAction[Passing Through Doorway]
    DecideAction -->|At Elevator| ElevatorAction[Entering Elevator]
    DecideAction -->|Mission Done| MissionComplete[Arrived at Destination]

    PathAction --> PathCalc[Calculate Movement<br/>- Avoid obstacles<br/>- Stay on path<br/>- Adjust speed]
    PathCalc --> PathMove[Move Wheelchair<br/>Forward/Turn]
    PathMove --> PathCheck{Reached<br/>End of Room?}
    PathCheck -->|No| MainLoop
    PathCheck -->|Yes| AdvanceAction[Move to Next Segment]

    DoorAction --> DoorPhase1[Phase 1:<br/>Position in Front of Door]
    DoorPhase1 --> DoorPhase2[Phase 2:<br/>Face Correct Direction]
    DoorPhase2 --> DoorPhase3{Phase 3:<br/>Is Door Open?}
    DoorPhase3 -->|No| OpenDoor[Trigger Automatic Door<br/>with Small Movements]
    OpenDoor --> DoorPhase3
    DoorPhase3 -->|Yes| DoorPhase4[Phase 4:<br/>Move Through Doorway<br/>Travel 2 meters]
    DoorPhase4 --> DoorComplete{Crossed<br/>Doorway?}
    DoorComplete -->|No| DoorPhase4
    DoorComplete -->|Yes| AdvanceAction

    ElevatorAction --> ElevP1[Phase 1-2:<br/>Approach and Align<br/>in Front of Elevator]
    ElevP1 --> ElevP3{Phase 3:<br/>Is Elevator<br/>Door Open?}
    ElevP3 -->|No| ElevOpenDoor[Trigger Door<br/>with Small Movements]
    ElevOpenDoor --> ElevP3
    ElevP3 -->|Yes| ElevEnter[Phase 3:<br/>Enter Elevator Cabin<br/>Move 2 meters Forward]
    ElevEnter --> ElevP4[Phase 4:<br/>Door Closes<br/>Travel to Target Floor<br/>Door Opens]
    ElevP4 --> ElevP5[Phase 5:<br/>Reverse Out of Elevator<br/>Move 2 meters Backward]
    ElevP5 --> ElevComplete{Exited<br/>Elevator?}
    ElevComplete -->|No| ElevP5
    ElevComplete -->|Yes| AdvanceAction

    AdvanceAction --> CheckMission{Is Journey<br/>Complete?}
    CheckMission -->|No| MainLoop
    CheckMission -->|Yes| MissionComplete

    MissionComplete --> SaveData[Save Navigation Data]
    SaveData --> ShowResults[Display Journey Map<br/>and Statistics]
    ShowResults --> End([Navigation Finished])

    style Start fill:#90EE90
    style End fill:#FFB6C1
    style LoadMap fill:#FFE4B5
    style DecideAction fill:#DDA0DD
    style PathAction fill:#F0E68C
    style DoorAction fill:#87CEEB
    style ElevatorAction fill:#FFB6B6
    style MissionComplete fill:#98FB98
    style AdvanceAction fill:#98FB98
</div>
<p></p>
<h2>Color Legend</h2>
<p></p>
<p><strong>Main Navigation Flowchart:</strong></p>
<ul>
<li><strong>Green:</strong> Start and end points</li>
<li><strong>Light Orange:</strong> Initial setup and planning</li>
<li><strong>Purple:</strong> Decision points (what to do next)</li>
<li><strong>Yellow:</strong> Path following through rooms</li>
<li><strong>Light Blue:</strong> Door crossing sequences</li>
<li><strong>Light Red:</strong> Elevator entry and exit sequences</li>
<li><strong>Light Green:</strong> Progress advancement</li>
</ul>
<p></p>
<p><strong>Door Crossing Flowchart:</strong></p>
<ul>
<li><strong>Green:</strong> Start and completion</li>
<li><strong>Light Blue:</strong> Door phases (position, turn, cross)</li>
<li><strong>Purple:</strong> Door check decision</li>
<li><strong>Light Orange:</strong> Door triggering actions</li>
</ul>
<p></p>
<p><strong>Elevator Flowchart:</strong></p>
<ul>
<li><strong>Green:</strong> Start and completion</li>
<li><strong>Light Red:</strong> Elevator movement phases (approach, enter, reverse)</li>
<li><strong>Light Orange:</strong> Waiting phases (door close, travel, door open)</li>
<li><strong>Purple:</strong> Door check decision</li>
</ul>
<p></p>
<hr>
<p></p>
<h2>Summary</h2>
<p></p>
<p>The autonomous wheelchair:</p>
<p></p>
<ol>
<li><strong>Plans</strong> a route through multiple rooms to reach the elevator</li>
<li><strong>Follows</strong> guide points through each room while avoiding obstacles</li>
<li><strong>Crosses</strong> through doorways using a 4-phase sequence</li>
<li><strong>Enters</strong> the elevator using a 6-phase sequence</li>
<li><strong>Travels</strong> between floors inside the elevator</li>
<li><strong>Exits</strong> by reversing backward onto the new floor</li>
<li><strong>Repeats</strong> this cycle for each room and door until reaching the destination</li>
</ol>
<p></p>
<p>The entire process is automatic, requiring no user intervention. The wheelchair continuously monitors its sensors, adjusts its path to avoid obstacles, and safely navigates through the building environment.</p>
<p></p>
<hr>
<p></p>
<p><em>Created: 2025-01-27</em></p>
<p><em>Part of wheelchair_experiment project documentation</em></p>
<p></p>

    <script>
        // Log when Mermaid finishes rendering
        mermaid.init(undefined, document.querySelectorAll('.mermaid'));
        console.log('Mermaid diagrams rendered successfully');
    </script>
</body>
</html>